<!DOCTYPE html>
<html>
<head>
  <title>Test</title>
  <style>
    body { font-family: sans-serif; margin: 20px; background: #000; color: #fff; }
    button { padding: 10px 20px; margin: 5px; background: #0084ff; color: #fff; border: none; border-radius: 6px; cursor: pointer; }
    pre { background: #111; padding: 10px; border-radius: 6px; overflow-x: auto; }
  </style>
</head>
<body>
  <h1>Server Test</h1>
  
  <button onclick="testBackend()">Test Backend (8000)</button>
  <button onclick="testFrontend()">Test Frontend (3001)</button>
  <button onclick="testAPI()">Test API Endpoint</button>
  
  <h2>Results:</h2>
  <pre id="output">Waiting for tests...</pre>

  <script>
    async function testBackend() {
      try {
        const res = await fetch('http://localhost:8000/api/page-data');
        const data = await res.json();
        document.getElementById('output').textContent = 'Backend (8000): OK\n' + JSON.stringify(data, null, 2).substring(0, 500);
      } catch(e) {
        document.getElementById('output').textContent = 'Backend (8000): ERROR\n' + e.message;
      }
    }

    function testFrontend() {
      try {
        fetch('http://localhost:3001/').then(r => r.text()).then(t => {
          document.getElementById('output').textContent = 'Frontend (3001): OK\n' + t.substring(0, 500);
        });
      } catch(e) {
        document.getElementById('output').textContent = 'Frontend (3001): ERROR\n' + e.message;
      }
    }

    async function testAPI() {
      try {
        const res = await fetch('http://localhost:8000/api/project-cards');
        const data = await res.json();
        document.getElementById('output').textContent = 'API: OK\n' + JSON.stringify(data, null, 2).substring(0, 500);
      } catch(e) {
        document.getElementById('output').textContent = 'API: ERROR\n' + e.message;
      }
    }
  </script>
</body>
</html>
